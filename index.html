<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mushroom Farm Dashboard</title>
  
  <!-- CSS -->
  <link rel="stylesheet" href="style.css" />

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
  
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="container">
    <h1>Mushroom Farm Monitor</h1>

    <div class="main-grid-container">
      <!-- Alert Box -->
      <div class="grid-item full-span">
        <div id="alert-box" class="alert-box">Loading alert...</div>
      </div>

      <!-- Sensor Data -->
      <div class="grid-item">
        <div class="sensor-values-grid" id="sensor-values">
          <div class="sensor-item"><strong>Temperature:</strong><br><span id="temp">--</span> °C</div>
          <div class="sensor-item"><strong>Humidity:</strong><br><span id="humidity">--</span> %</div>
          <div class="sensor-item"><strong>CO₂:</strong><br><span id="co2">--</span> ppm</div>
          <div class="sensor-item"><strong>Light:</strong><br><span id="lux">--</span> lux</div>
          <div class="sensor-item"><strong>Water Level:</strong><br><span id="water">--</span> %</div>
        </div>
      </div>

      <!-- Device Status LEDs -->
      <div class="grid-item">
        <div class="status-grid">
          <div class="status-item"><span class="status-label">Humidifier</span><div class="status-led" id="humidifier-led"></div></div>
          <div class="status-item"><span class="status-label">Blower</span><div class="status-led" id="blower-led"></div></div>
          <div class="status-item"><span class="status-label">Light</span><div class="status-led" id="light-led"></div></div>
          <div class="status-item"><span class="status-label">Exhaust</span><div class="status-led" id="exhaust-led"></div></div>
        </div>
      </div>

      <!-- Manual Refresh -->
      <div class="grid-item">
        <button onclick="loadData()">Refresh Now</button>
      </div>

      <!-- Charts -->
      <div class="grid-item full-span">
        <!-- Chart 1 Wrapper -->
        <div class="chart-container">
          <canvas id="tempHumChart"></canvas>
        </div>
        
        <!-- Chart 2 Wrapper -->
        <div class="chart-container">
          <canvas id="co2Chart"></canvas>
        </div>

        <!-- Chart 3 Wrapper -->
        <div class="chart-container">
          <canvas id="luxChart"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- Load JS after HTML -->
  <script src="script.js"></script>
</body>
</html>
